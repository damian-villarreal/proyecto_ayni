@model List<ayni.Models.Postulacion>

@{
    ViewBag.Title = "Postulacion";
    Layout = "~/Views/Shared/_EstandarLayout.cshtml";

}


<div class="container col-lg-10 col-md-10 col-sm-12">
    <h4 class="display-4 mb-3" style="font-size:2.5rem">Postulaciones</h4>
    <div class="card">
        <div class="card-body">
            <table class="table table-borderless">
                <thead>
                    <tr>
                        <th scope="col">Usuario</th>
                        <th scope="col">Fecha</th>
                        <th scope="col"></th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var p in Model)
                    {
                        <tr>
                            <td>@p.Usuario.NombreUsuario</td>
                            <td>@p.fecha.ToShortDateString()</td>
                            <td>

                                @if (p.Aceptado)
                                {
                                    if (p.Publicacion.idTipoPublicacion == 1)
                                    {
                                        <p>Aceptaste recibir ayuda de este usuario</p>
                                    }

                                    if (p.Publicacion.idTipoPublicacion == 2)
                                    {
                                        <p>aceptaste el pedido de ayuda de este usuario</p>
                                    }


                                }
                                else
                                {

                                    if (p.Publicacion.idEstadoPublicacion == 2)
                                    {

                                    }
                                    else
                                    {

                                        @Html.ActionLink("aceptar ayuda", "Confirmar", "Postulacion", new { idPostulacion = p.idPostulacion }, new { @class = "btn btn-primary btn-sm", onClick = "this.form.submit(); this.disabled=true; this.value='Sending…'; " })






                                    }

                                }
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>

